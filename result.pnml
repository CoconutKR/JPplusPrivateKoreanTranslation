spriteset (keisei3700_1_front, "gfx/private/Kanto/keisei/keisei3700/keisei3700_1.png") { tmpl_std(0, 0) }
spriteset (keisei3700_1_end, "gfx/private/Kanto/keisei/keisei3700/keisei3700_1.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3700_1_mot, "gfx/private/Kanto/keisei/keisei3700/keisei3700_1.png") { tmpl_std(0, 50) }
spriteset (keisei3700_1_mot_rev, "gfx/private/Kanto/keisei/keisei3700/keisei3700_1.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3700_1_mot_2, "gfx/private/Kanto/keisei/keisei3700/keisei3700_1.png") { tmpl_symm(0, 75) }
spriteset (keisei3700_1_wag, "gfx/private/Kanto/keisei/keisei3700/keisei3700_1.png") { tmpl_symm(0, 100) }

spriteset (keisei3700_2_front_mot, "gfx/private/Kanto/keisei/keisei3700/keisei3700_2.png") { tmpl_std(0, 0) }
spriteset (keisei3700_2_end_mot, "gfx/private/Kanto/keisei/keisei3700/keisei3700_2.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3700_2_front, "gfx/private/Kanto/keisei/keisei3700/keisei3700_2.png") { tmpl_std(0, 50) }
spriteset (keisei3700_2_end, "gfx/private/Kanto/keisei/keisei3700/keisei3700_2.png") { tmpl_std_rev(0, 75) }

spriteset (keisei3700_3_front, "gfx/private/Kanto/keisei/keisei3700/keisei3700_3.png") { tmpl_std(0, 0) }
spriteset (keisei3700_3_end, "gfx/private/Kanto/keisei/keisei3700/keisei3700_3.png") { tmpl_std_rev(0, 25) }
spriteset (keisei3700_3_mot, "gfx/private/Kanto/keisei/keisei3700/keisei3700_3.png") { tmpl_std(0, 50) }
spriteset (keisei3700_3_mot_rev, "gfx/private/Kanto/keisei/keisei3700/keisei3700_3.png") { tmpl_std_rev(0, 50) }
spriteset (keisei3700_3_mot_2, "gfx/private/Kanto/keisei/keisei3700/keisei3700_3.png") { tmpl_symm(0, 75) }
spriteset (keisei3700_3_wag, "gfx/private/Kanto/keisei/keisei3700/keisei3700_3.png") { tmpl_symm(0, 100) }

//panto-placers
//var 1
  switch(FEAT_TRAINS, SELF, sw_keisei3700_1_panto_placer_1,position_in_vehid_chain %8){
    0: keisei3700_1_mot_2;
    2: keisei3700_1_mot_rev;
    5: keisei3700_1_mot_2;
    keisei3700_1_wag;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3700_1_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
    0: keisei3700_1_mot_2_rev;
    2: keisei3700_1_mot;
    5: keisei3700_1_mot_2_rev;
    keisei3700_1_wag;
  }
  switch(FEAT_TRAINS, PARENT, sw_keisei3700_1_panto_placer_main_1,vehicle_is_reversed){
    1: sw_keisei3700_1_panto_placer_1_rev;
    sw_keisei3700_1_panto_placer_1;
  }
//var 2
  switch(FEAT_TRAINS, SELF, sw_keisei3700_1_panto_placer_2,position_in_vehid_chain %6){
    3: keisei3700_1_mot_2;
    keisei3700_1_wag;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3700_1_panto_placer_2_rev,position_in_vehid_chain_from_end %6-1){
    3: keisei3700_1_mot_2_rev;
    keisei3700_1_wag;
  }
  switch(FEAT_TRAINS, PARENT, sw_keisei3700_1_panto_placer_main_2,vehicle_is_reversed){
    1: sw_keisei3700_1_panto_placer_2_rev;
    sw_keisei3700_1_panto_placer_2;
  }

  switch(FEAT_TRAINS, SELF, sw_keisei3700_1_panto_placer_main,num_vehs_in_vehid_chain+1){
    1..4:sw_keisei3700_1_panto_placer_main_1;
    5:sw_keisei3700_1_panto_placer_main_2;
    7:sw_keisei3700_1_panto_placer_main_2;
    sw_keisei3700_1_panto_placer_main_1;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3700_1_gfx_main,position_in_vehid_chain_from_end){
    0: sw_keisei3700_1_end_gfx;
    sw_keisei3700_1_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3700_livery_1,vehicle_type_id){
    mu_car: sw_keisei3700_1_gfx_main;
    sw_keisei3700_1_front_gfx;
  }
//panto-placers
//var 1
  switch(FEAT_TRAINS, SELF, sw_keisei3700_3_panto_placer_1,position_in_vehid_chain %8){
    0: keisei3700_3_mot_2;
    2: keisei3700_3_mot_rev;
    5: keisei3700_3_mot_2;
    keisei3700_3_wag;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3700_3_panto_placer_1_rev,position_in_vehid_chain_from_end %8-1){
    0: keisei3700_3_mot_2_rev;
    2: keisei3700_3_mot;
    5: keisei3700_3_mot_2_rev;
    keisei3700_3_wag;
  }
  switch(FEAT_TRAINS, PARENT, sw_keisei3700_3_panto_placer_main_1,vehicle_is_reversed){
    1: sw_keisei3700_3_panto_placer_1_rev;
    sw_keisei3700_3_panto_placer_1;
  }
//var 2
  switch(FEAT_TRAINS, SELF, sw_keisei3700_3_panto_placer_2,position_in_vehid_chain %6){
    3: keisei3700_3_mot_2;
    keisei3700_3_wag;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3700_3_panto_placer_2_rev,position_in_vehid_chain_from_end %6-1){
    3: keisei3700_3_mot_2_rev;
    keisei3700_3_wag;
  }
  switch(FEAT_TRAINS, PARENT, sw_keisei3700_3_panto_placer_main_2,vehicle_is_reversed){
    1: sw_keisei3700_3_panto_placer_2_rev;
    sw_keisei3700_3_panto_placer_2;
  }

  switch(FEAT_TRAINS, SELF, sw_keisei3700_3_panto_placer_main,num_vehs_in_vehid_chain+1){
    1..4:sw_keisei3700_3_panto_placer_main_1;
    5:sw_keisei3700_3_panto_placer_main_2;
    7:sw_keisei3700_3_panto_placer_main_2;
    sw_keisei3700_3_panto_placer_main_1;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3700_3_gfx_main,position_in_vehid_chain_from_end){
    0: sw_keisei3700_3_end_gfx;
    sw_keisei3700_3_panto_placer_main;
  }
  switch(FEAT_TRAINS, SELF, sw_keisei3700_livery_3,vehicle_type_id){
    mu_car: sw_keisei3700_3_gfx_main;
    sw_keisei3700_3_front_gfx;
  }
